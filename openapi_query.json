{
  "/memory/list_entries": {
    "get": {
      "operationId": "listMemoryEntries",
      "summary": "List memory entries with optional filters",
      "tags": [
        "Memory"
      ],
      "x-gpt-action": {
        "name": "List Memory Entries",
        "instructions": "Use this to explore the memory index for a project with filters like owner, tag, or type."
      },
      "parameters": [
        {
          "name": "repo_name",
          "in": "query",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "pod_owner",
          "in": "query",
          "required": false,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "tag",
          "in": "query",
          "required": false,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "file_type",
          "in": "query",
          "required": false,
          "schema": {
            "type": "string"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "List of matching memory entries",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "total": {
                    "type": "integer"
                  },
                  "results": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "path": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "pod_owner": {
                          "type": "string"
                        },
                        "last_updated": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "/memory/remove": {
    "delete": {
      "operationId": "removeMemoryEntry",
      "summary": "Remove a memory entry by path",
      "tags": [
        "Memory"
      ],
      "x-gpt-action": {
        "name": "Remove Memory Entry",
        "instructions": "Use this to remove an outdated or deleted file from the memory index.",
        "summary_keywords": [
          "memory",
          "remove",
          "entry"
        ]
      },
      "parameters": [
        {
          "name": "repo_name",
          "in": "query",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "path",
          "in": "query",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Entry removed successfully",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "/memory/search": {
    "post": {
      "operationId": "searchMemory",
      "summary": "Search memory.yaml for keyword matches in path, description, or tags",
      "tags": [
        "Memory"
      ],
      "x-gpt-action": {
        "name": "Search Memory by Keyword",
        "instructions": "Use this to find relevant memory files based on a keyword or phrase.",
        "summary_keywords": [
          "memory",
          "search",
          "keyword"
        ]
      },
      "requestBody": {
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "repo_name",
                "keyword"
              ],
              "properties": {
                "repo_name": {
                  "type": "string"
                },
                "keyword": {
                  "type": "string",
                  "description": "Keyword to search within memory entry path, tags, and description"
                }
              }
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "Matching memory entries",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "matches": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "/memory/stats": {
    "get": {
      "operationId": "getMemoryStats",
      "summary": "Return memory index statistics",
      "tags": [
        "Memory"
      ],
      "x-gpt-action": {
        "name": "Memory Stats",
        "instructions": "Use this to get a summary view of the memory index for diagnostics or audit."
      },
      "parameters": [
        {
          "name": "repo_name",
          "in": "query",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Memory statistics by owner and gaps",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "total_entries": {
                    "type": "integer"
                  },
                  "missing_metadata": {
                    "type": "integer"
                  },
                  "by_pod_owner": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "/memory/update_entry": {
    "patch": {
      "operationId": "updateMemoryEntry",
      "summary": "Update a memory entryâ€™s metadata",
      "tags": [
        "Memory"
      ],
      "x-gpt-action": {
        "name": "Update Memory Entry",
        "instructions": "Use this to manually update the description, tags, or pod owner of a memory entry by file path.",
        "summary_keywords": [
          "memory",
          "update",
          "entry"
        ]
      },
      "requestBody": {
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": [
                "repo_name",
                "path"
              ],
              "properties": {
                "repo_name": {
                  "type": "string"
                },
                "path": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "tags": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "pod_owner": {
                  "type": "string"
                }
              },
              "example": {
                "repo_name": "ai-delivery-framework",
                "path": "project/outputs/task.yaml",
                "description": "Tracks all task definitions and metadata",
                "tags": [
                  "tasks",
                  "config"
                ],
                "pod_owner": "DeliveryPod"
              }
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "Memory entry updated",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
